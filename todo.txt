1. ตะกร้าหน้าร้านตอนกดยืนยันการสั่งซื้อ ตอนกดยืนยันคำสั่งซื้อมาหน้าที่หน้าโอนเงิน ให้ทำการยิง js ajax มา check stock จำนวนสินค้าที่ลูกค้าทำการสั่งซื้อเข้ามาก่อน ว่ามีสินค้า พอสำหรับออเดอร์นี้ไหม  ถ้ามีก็ให้เข้ามาจ่ายเงินได้ แต่ถ้าไม่มีให้ sweet alert เตือนว่าสินค้าไม่พอ  แล้วหยุดการทำงานที่ตรงนั้น เพื่อให้เขาปรับเหลี่ยนสินค้าในตะกร้า (เป็นการ check เฉยๆ ไม่ใช่การตัดสต๊อก)

พอลูกค้ามาหน้าชำระเงินได้ หน้านี้จะมีการทำงาน 2 สถานะ 
1 คือถ้าอัพโหลดสลิปคือจ่ายเงินแล้ว 
2 ถ้ายังไม่แนบ คือการจองออเดอร์ไว้ ค่อยชำระเงินทีหลัง

ถ้าลูกค้าชำระเงินเข้ามา ให้ทำ function ไปลดสต๊อกสินค้า ตามที่ลูกค้าสั่งซื้อเข้า
ถ้าไม่ชำระก็ไม่ต้องทำอะไร ปล่อยไว้ เป็นเหมือนการจองออเดอร์

ต่อมา เขาจะเข้ามาดูออเดอร์ตัวเอง ในเมนูออเดอร์ของฉัน ตรงนี้ เดี๋ยวจะมีการจ่ายเงิน สำหรับออเดอร์ที่ยังไม่ชำระ เมื่อไหรืที่ลูกค้าทำการยืนยันการชำระเงิน ก็ทำ Check เหมือนเดิม ถ้าสินค้าไม่พอก็แจ้ง แต่ถ้าพอ ก็ทำการ ตัดสต๊อกต่อไป ปกติ

2. ระบบขายหลังร้าน การทำงานคือ เมื่อกดยืนยัน ก็ทำการ check ว่าสินค้าพอสำหรับการขายไหม ถ้าไม่พอก็เตือน  แต่ถ้าพอ ก็สั่งซื้อได้ ทำฟังชั่นตัดสต๊อกปกติ

3.ระบบคืนสินค้า อันนี้ทำทั้ง 2 การขาย ทั้งหลังร้าน หน้าร้าน ให้กดแก้ไขออเดอร์ แล้วทำการ ปรับลดสินค้าบางรายการที่ลูกค้าต้องการคืน แล้วทำการเอาสินค้านั้นๆ ไปคืนเข้าสต๊อกไป  และระบบ ยกเลิกออเดอร์ด้วย การทำงานก็เหมือนกัน คือคืนสินค้าทั้งหมดไปเลย เข้าสต๊อก ตามจำนวนที่สั่งซื้อ


การคืน สมมุติ สินค้า A บิลนี้ ซื้อ 5 ชิ้น เขา จะคืน 1 ชิ้น ก็ทำฟังชั่น คืนสินค้าเข้าสต๊อกนี้ไป 


ให้เขียน เป็น function แยกจากฟังชั่นหลัก แล้วเรียก function ตัว ใน function หลักอีกที